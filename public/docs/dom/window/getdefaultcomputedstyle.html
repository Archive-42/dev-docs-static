<h1>Window.getDefaultComputedStyle()</h1> <div class="notecard warning"> <strong id="non-standard">Non-standard</strong> <p>This feature is non-standard and is not on a standards track. Do not use it on production sites facing the Web: it will not work for every user. There may also be large incompatibilities between implementations and the behavior may change in the future.</p> </div> <p>The <code>getDefaultComputedStyle()</code> method gives the default <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/computed_value">computed values</a> of all the CSS properties of an element, ignoring author styling. That is, only user-agent and user styles are taken into account.</p>
<h2 id="syntax">Syntax</h2>
<pre data-language="js"><span class="token keyword">var</span> style <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">getDefaultComputedStyle</span><span class="token punctuation">(</span>element <span class="token punctuation">[</span><span class="token punctuation">,</span> pseudoElt<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
<h3 id="parameters">Parameters</h3>
<dl> <dt><code>element</code></dt> <dd>The <a href="../element"><code>Element</code></a> for which to get the computed style.</dd> <dt>
<code>pseudoElt</code> <span class="badge inline optional">Optional</span>
</dt> <dd>A string specifying the pseudo-element to match. Must be <code>null</code> (or not specified) for regular elements.</dd> </dl>
<h3 id="return_value">Return value</h3>
<p>The returned <code>style</code> is a <a href="../cssstyledeclaration"><code>CSSStyleDeclaration</code></a> object. The object is of the same type as the object returned by <a href="../window/getcomputedstyle"><code>Window.getComputedStyle()</code></a>, but only takes into account user-agent and user rules.</p>
<h2 id="example">Example</h2>
<h3 id="simple_example">Simple example</h3>
<pre data-language="js"><span class="token keyword">var</span> elem1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"elemId"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> style <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">getDefaultComputedStyle</span><span class="token punctuation">(</span>elem1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
<h3 id="longer_example">Longer example</h3>
<pre data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">#elem-container</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span>     100px<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span>      200px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span>   100px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>elem-container<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>dummy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>output<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> elem <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"elem-container"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> theCSSprop <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">getDefaultComputedStyle</span><span class="token punctuation">(</span>elem<span class="token punctuation">)</span><span class="token punctuation">.</span>position<span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"output"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> theCSSprop<span class="token punctuation">;</span> <span class="token comment">// Will output "static"</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></pre>
<h3 id="use_with_pseudo-elements">Use with pseudo-elements</h3>
<p>The <code>getDefaultComputedStyle()</code> method can pull style info from pseudo-elements (e.g., <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/::before"><code>::before</code></a> or <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/::after"><code>::after</code></a>).</p> <pre data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
 <span class="token selector">h3:after</span> <span class="token punctuation">{</span>
   <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">' rocks!'</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>generated content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> h3       <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'h3'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      result   <span class="token operator">=</span> <span class="token function">getDefaultComputedStyle</span><span class="token punctuation">(</span>h3<span class="token punctuation">,</span> <span class="token string">':after'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>content<span class="token punctuation">;</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'the generated content is: '</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// returns 'none'</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</pre>
<h2 id="notes">Notes</h2>
<p>The returned value is, in certain known cases, expressly incorrect by deliberate intent. In particular, to avoid the so called CSS History Leak security issue, browsers may expressly "lie" about the used value for a link and always return values as if a user has never visited the linked site, and/or limit the styles that can be applied using the <code>:visited</code> pseudo-selector. See <a href="https://blog.mozilla.com/security/2010/03/31/plugging-the-css-history-leak/" rel=" noopener">http://blog.mozilla.com/security/2010/03/31/plugging-the-css-history-leak/</a> and <a href="https://hacks.mozilla.org/2010/03/privacy-related-changes-coming-to-css-vistited/" rel=" noopener">http://hacks.mozilla.org/2010/03/privacy-related-changes-coming-to-css-vistited/</a> for details of the examples of how this is implemented.</p>
<h2 id="specifications">Specifications</h2>
<p>Proposed to the CSS working group.</p>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>getDefaultComputedStyle</code></th>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>19</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>19</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
</tr>
<tr>
<th><code>pseudo-element_support</code></th>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>19</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>19</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
</tr>
</tbody>
</table>


    <a href="https://developer.mozilla.org/en-US/docs/Web/API/window/getDefaultComputedStyle" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/window/getDefaultComputedStyle</a>
  </p>
</div>
