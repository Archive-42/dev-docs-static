<h1>Navigator.getBattery()</h1>
<div class="notecard deprecated"> <strong id="deprecated">Deprecated</strong> <p>This feature is no longer recommended. Though some browsers might still support it, it may have already been removed from the relevant web standards, may be in the process of being dropped, or may only be kept for compatibility purposes. Avoid using it, and update existing code if possible; see the <a href="#browser_compatibility">compatibility table</a> at the bottom of this page to guide your decision. Be aware that this feature may cease to work at any time.</p> </div> <p>The <code>getBattery()</code> method provides information about the system's battery. It returns a battery promise, which is resolved in a <a href="../batterymanager"><code>BatteryManager</code></a> object providing also some new events you can handle to monitor the battery status. This implements the <a href="../battery_status_api">Battery Status API</a>; see that documentation for additional details, a guide to using the API, and sample code.</p> <div class="notecard note"> <p><strong>Note:</strong> In some browsers access to this feature is controlled by <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Feature-Policy"><code>Feature-Policy</code></a> directive <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Feature-Policy/battery"><code>battery</code></a>.</p> </div>
<h2 id="syntax">Syntax</h2>
<pre data-language="js"><span class="token keyword">var</span> batteryPromise <span class="token operator">=</span> navigator<span class="token punctuation">.</span><span class="token function">getBattery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre>
<h3 id="return_value">Return value</h3>
<p>A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> which, when resolved, calls its fulfillment handler with a single parameter: a <a href="../batterymanager"><code>BatteryManager</code></a> object which you can use to get information about the battery's state.</p>
<h2 id="exceptions">Exceptions</h2>
<p>This method doesn't throw true exceptions; instead, it rejects the returned promise, passing into it a <a href="../domexception"><code>DOMException</code></a> whose <code>name</code> is one of the following:</p> <dl> <dt><code>SecurityError</code></dt> <dd>The User Agent does not expose battery information to insecure contexts and this method was called from insecure context.<br> <strong>Note:</strong> Old versions of some User Agents might allow use of this feature in insecure contexts. </dd> <dt><code>NotAllowedError</code></dt> <dd>
<strong>Note:</strong> No User Agent currently throws this exception, but the specification describes the following behaviors:<br> This document is not allowed to use this feature. For example, it might not be explicitly allowed or restricted via <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Feature-Policy"><code>Feature-Policy</code></a> <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Feature-Policy/battery"><code>battery</code></a> feature.</dd> </dl>
<h2 id="example">Example</h2>
<p>This example fetches the current charging state of the battery and establishes a handler for the <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/chargingchange">chargingchange</a></code> event, so that the charging state is recorded whenever it changes.</p> <pre data-language="js"><span class="token keyword">let</span> batteryIsCharging <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

navigator<span class="token punctuation">.</span><span class="token function">getBattery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">battery</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  batteryIsCharging <span class="token operator">=</span> battery<span class="token punctuation">.</span>charging<span class="token punctuation">;</span>

  battery<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'chargingchange'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    batteryIsCharging <span class="token operator">=</span> battery<span class="token punctuation">.</span>charging<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre> <p>For more examples and details, see <a href="../battery_status_api">Battery Status API</a>.</p>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table"> <thead> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> </thead> <tbody> <tr> <td><a href="https://w3c.github.io/battery/#dom-navigator-getbattery" hreflang="en" rel=" noopener">Battery Status API<br><small>The definition of 'Navigator.getBattery()' in that specification.</small></a></td> <td><span class="spec-cr">Candidate Recommendation</span></td> <td>Initial definition</td> </tr> </tbody> </table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>getBattery</code></th>
<td class="bc-supports-yes"><div>38</div></td>
<td class="bc-supports-yes"><div>79</div></td>
<td class="bc-supports-no"><div>43-52</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>25</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>38</div></td>
<td class="bc-supports-yes"><div>38</div></td>
<td class="bc-supports-no"><div>43-52</div></td>
<td class="bc-supports-yes"><div>25</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>3.0</div></td>
</tr></tbody>
</table>


<h2 id="see_also">See also</h2>
<ul> <li><a href="../battery_status_api">Battery Status API</a></li> <li>
<code>Feature-Policy</code> <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Feature-Policy/battery"><code>battery</code></a> feature</li> </ul>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/getBattery" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Navigator/getBattery</a>
  </p>
</div>
