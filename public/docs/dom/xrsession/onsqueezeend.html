<h1>XRSession.onsqueezeend</h1>

<div class="notecard secure">
<strong id="secure_context">Secure context</strong><p>This feature is available only in <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts">secure contexts</a> (HTTPS), in some or all <a href="#browser_compatibility">supporting browsers</a>.</p>
</div>
 <p>The <a href="../xrsession"><code>XRSession</code></a> interface's <code><strong>onsqueezeend</strong></code> event handler property is a function to be invokedn when the <a href="squeezeend_event"><code>squeezeend</code></a> event sent to an <code>XRSession</code> when a <a href="../webxr_device_api/inputs#primary_squeeze_actions">primary squeeze action</a> ends. This is sent immediately after the <a href="squeeze_event"><code>squeeze</code></a> event, which announces the <em>successful</em> completion of the squeeze action. The <code>squeezeend</code> event handler is where you handle closing out a squeeze action whether it was successfully completed or not.</p> <p>To learn more about how the sequence of squeeze events works, see <a href="#">Primary squeeze actions</a> in <a href="../webxr_device_api/inputs">Inputs and input sources</a>.</p>
<h2 id="syntax">Syntax</h2>
<pre data-language="js">xrSession<span class="token punctuation">.</span>onsqueezeend <span class="token operator">=</span> squeezeendHandlerFunction<span class="token punctuation">;</span></pre>
<h3 id="value">Value</h3>
<p>A function to be invoked whenever the <a href="../xrsession"><code>XRSession</code></a> receives a <a href="squeezeend_event"><code>squeezestart</code></a> event, indicating the ending of a primary squeeze action.</p>
<h2 id="examples">Examples</h2>
<p>This snippet of code adds a simple handler for the <code>squeezeend</code> event, which responds only to events on the user's dominant hand. In response to the end of the squeeze operation, this code looks to see if there is an object currently being held by the user by checking to see if the variable <code>user.heldObject</code> contains a reference to an object representing the held item.</p> <p>If <code>heldObject</code> has an object reference, that object is passed to a function called <code>cancelObjectDrag()</code>, which would be written to return the object to its original position. This takes care of the situation in which the drag is aborted or canceled.</p> <pre data-language="js">xrSession<span class="token punctuation">.</span><span class="token function-variable function">onsqueezeend</span> <span class="token operator">=</span> <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>inputSource<span class="token punctuation">.</span>handedness <span class="token operator">==</span> user<span class="token punctuation">.</span>handedness<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> targetRayPose <span class="token operator">=</span> event<span class="token punctuation">.</span>frame<span class="token punctuation">.</span><span class="token function">getPose</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>inputSource<span class="token punctuation">.</span>targetRaySpace<span class="token punctuation">,</span> myRefSpace<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">.</span>heldObject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token function">cancelObjectDrag</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>heldObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre> <p>This code presumes that if the user actually intentionally completed the drag, <code>user.heldObject</code> will be <code>null</code> here. That's because (in this example, at least) the handler for the <a href="squeeze_event"><code>squeeze</code></a> event has already dropped the object into its new location and then cleared the value of <code>heldObject</code> to indicate that the user is no longer holding anything.</p>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table"> <thead> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> </thead> <tbody> <tr> <td>
<a href="https://immersive-web.github.io/webxr/#dom-xrsession-onsqueezeend" hreflang="en" rel=" noopener">WebXR Device API<br><small>The definition of 'XRSession.onsqueezeend' in that specification.</small></a> </td> <td><span class="spec-wd">Working Draft</span></td> <td>Initial definition.</td> </tr> </tbody> </table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>onsqueezeend</code></th>
<td class="bc-supports-yes"><div>83</div></td>
<td class="bc-supports-yes"><div>83</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>83</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>13.0</div></td>
</tr></tbody>
</table>


<h2 id="see_also">See also</h2>
<ul> <li>
<a href="../webxr_device_api/inputs">Inputs and input sources</a> </li> <li>The other <code>onsqueeze*</code> handlers: <a href="onsqueezestart"><code>onsqueezestart</code></a> and <a href="onsqueeze"><code>onsqueeze</code></a>
</li> <li>The <a href="squeeze_event"><code>squeeze</code></a>, <a href="squeezestart_event"><code>squeezestart</code></a>, and <a href="squeezeend_event"><code>squeezeend</code></a> events</li> </ul>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/XRSession/onsqueezeend" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/XRSession/onsqueezeend</a>
  </p>
</div>
