<h1>History.replaceState()</h1> <p>The <code>History.replaceState()</code> method modifies the current history entry, replacing it with the <code>stateObj</code>, <code>title</code>, and <code>URL</code> passed in the method parameters. This method is particularly useful when you want to update the state object or URL of the current history entry in response to some user action.</p>
<h2 id="syntax">Syntax</h2>
<pre data-language="js">history<span class="token punctuation">.</span><span class="token function">replaceState</span><span class="token punctuation">(</span>stateObj<span class="token punctuation">,</span> title<span class="token punctuation">,</span> <span class="token punctuation">[</span>url<span class="token punctuation">]</span><span class="token punctuation">)</span></pre>
<h3 id="parameters">Parameters</h3>
<dl> <dt><code>stateObj</code></dt> <dd>The state object is a JavaScript object which is associated with the history entry passed to the <code>replaceState</code> method. The state object can be <code>null</code>.</dd> <dt><code>title</code></dt> <dd>
<a href="https://github.com/whatwg/html/issues/2174" rel=" noopener">Most browsers currently ignore this parameter</a>, although they may use it in the future. Passing the empty string here should be safe against future changes to the method. Alternatively, you could pass a short title for the state.</dd> <dt>
<code>url</code> <span class="badge inline optional">Optional</span>
</dt> <dd>The URL of the history entry. The new URL must be of the same origin as the current URL; otherwise replaceState throws an exception.</dd> </dl>
<h2 id="examples">Examples</h2>
<p>Suppose https://www.mozilla.org/foo.html executes the following JavaScript:</p> <pre data-language="js"><span class="token keyword">const</span> stateObj <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token operator">:</span> <span class="token string">'bar'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span>stateObj<span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'bar.html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre> <p>The explanation of these two lines above can be found in the <a href="../history_api/working_with_the_history_api#example_of_pushstate_method">Example of <code>pushState()</code> method</a> section of the <a href="../history_api/working_with_the_history_api">Working with the History API</a> article. Then suppose <code>https://www.mozilla.org/bar.html</code> executes the following JavaScript:</p> <pre data-language="js">history<span class="token punctuation">.</span><span class="token function">replaceState</span><span class="token punctuation">(</span>stateObj<span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'bar2.html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre> <p>This will cause the URL bar to display <code>https://www.mozilla.org/bar2.html</code>, but won't cause the browser to load <code>bar2.html</code> or even check that <code>bar2.html</code> exists.</p> <p>Suppose now that the user navigates to <code>https://www.microsoft.com</code>, then clicks the Back button. At this point, the URL bar will display <code>https://www.mozilla.org/bar2.html</code>. If the user now clicks Back again, the URL bar will display https://www.mozilla.org/foo.html, and totally bypass bar.html.</p>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a href="https://html.spec.whatwg.org/multipage/history.html#dom-history-replacestate" hreflang="en" rel=" noopener">HTML Living Standard<br><small>The definition of 'History.replaceState()' in that specification.</small></a></td> <td><span class="spec-living">Living Standard</span></td> <td>No change from <a href="https://www.w3.org/TR/html52/" hreflang="en" rel=" noopener">HTML5</a>.</td> </tr> <tr> <td><a href="https://www.w3.org/TR/html52/history.html#dom-history-replacestate" hreflang="en" rel=" noopener">HTML5<br><small>The definition of 'History.replaceState()' in that specification.</small></a></td> <td><span class="spec-rec">Recommendation</span></td> <td>Initial definition.</td> </tr> </tbody> </table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>replaceState</code></th>
<td class="bc-supports-yes"><div>5</div></td>
<td class="bc-supports-yes"><div>12</div></td>
<td class="bc-supports-yes">
<div>4</div>
<div>Until Firefox 5, the passed object is serialized using JSON. Starting in Firefox 6, the object is serialized using <a href="https://developer.mozilla.org/docs/DOM/The_structured_clone_algorithm">the structured clone algorithm</a>. This allows a wider variety of objects to be safely passed.</div>
</td>
<td class="bc-supports-yes"><div>10</div></td>
<td class="bc-supports-yes"><div>11.5</div></td>
<td class="bc-supports-yes"><div>5</div></td>
<td class="bc-supports-yes"><div>â‰¤37</div></td>
<td class="bc-supports-yes"><div>18</div></td>
<td class="bc-supports-yes">
<div>4</div>
<div>Until Firefox 5, the passed object is serialized using JSON. Starting in Firefox 6, the object is serialized using <a href="https://developer.mozilla.org/docs/DOM/The_structured_clone_algorithm">the structured clone algorithm</a>. This allows a wider variety of objects to be safely passed.</div>
</td>
<td class="bc-supports-yes"><div>11.5</div></td>
<td class="bc-supports-yes"><div>4</div></td>
<td class="bc-supports-yes"><div>1.0</div></td>
</tr>
<tr>
<th><code>title</code></th>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>?</div></td>
<td class="bc-supports-no"><div>No</div></td>
</tr>
</tbody>
</table>


    <a href="https://developer.mozilla.org/en-US/docs/Web/API/History/replaceState" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/History/replaceState</a>
  </p>
</div>
