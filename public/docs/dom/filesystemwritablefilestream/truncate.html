<h1>FileSystemWritableFileStream.truncate()</h1>
<div class="notecard draft"> <strong id="draft">Draft</strong> <p>This page is not complete.</p> </div>
<div class="notecard secure">
<strong id="secure_context">Secure context</strong><p>This feature is available only in <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts">secure contexts</a> (HTTPS), in some or all <a href="#browser_compatibility">supporting browsers</a>.</p>
</div>  <p class="summary">The <code>truncate()</code> method of the <a href="../filesystemwritablefilestream"><code>FileSystemWritableFileStream</code></a> interface resizes the file associated with the stream to be the specified size in bytes.</p> <p>If the size specified is larger than the current file size this pads the file with <code>null</code> bytes, otherwise it truncates the file.</p> <p>The file cursor is also updated when <code>truncate()</code> is called. If the offset is smaller than the size, it remains unchanged. If the offset is larger than size, the offset is set to that size. This ensures that subsequent writes do not error.</p> <p>No changes are written to the actual file on disk until the stream has been closed. Changes are typically written to a temporary file instead.</p>
<h2 id="syntax">Syntax</h2>
<pre data-language="js">FileSystemWritableFileStream<span class="token punctuation">.</span><span class="token function">truncate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre>
<h3 id="parameters">Parameters</h3>
<dl> <dt>size</dt> <dd>An <code>unsigned long</code> of the amount of bytes to resize the stream to.</dd> </dl>
<h3 id="return_value">Return value</h3>
<p>A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> which returns undefined.</p>
<h3 id="exceptions">Exceptions</h3>
<dl> <dt>NotAllowedError</dt> <dd>If the <a class="page-not-created"><code>PermissionState</code></a> is not 'granted'.</dd> <dt>TypeError</dt> <dd>If the size is undefined or not an unsigned long.</dd> </dl>
<h2 id="examples">Examples</h2>
<pre data-language="js"><span class="token comment">// todo</span>
</pre>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a href="https://wicg.github.io/file-system-access/#api-filesystemwritablefilestream-truncate" hreflang="en" rel=" noopener">File System Access API<br><small>The definition of 'truncate' in that specification.</small></a></td> <td><span class="spec-wd">Working Draft</span></td> <td>Initial definition.</td> </tr> </tbody> </table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>truncate</code></th>
<td class="bc-supports-yes"><div>86</div></td>
<td class="bc-supports-yes"><div>86</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
</tr></tbody>
</table>


<h2 id="see_also">See also</h2>
<ul> <li><a href="../file_system_access_api">File System Access API</a></li> <li><a href="https://web.dev/file-system-access/" rel=" noopener">The File System Access API: simplifying access to local files</a></li> </ul>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/FileSystemWritableFileStream/truncate" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/FileSystemWritableFileStream/truncate</a>
  </p>
</div>
