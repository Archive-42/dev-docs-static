<h1>MediaStreamTrack.onended</h1>

 <p>The <code><strong>MediaStreamTrack.onended</strong></code> event handler is used to specify a function which serves as an <a href="https://developer.mozilla.org/en-US/docs/Web/Events/Event_handlers"><code>EventHandler</code></a> to be called when the <code><a href="ended_event">ended</a></code> event occurs on the track. This event occurs when the track will no longer provide data to the stream for any reason, including the end of the media input being reached, the user revoking needed permissions, the source device being removed, or the remote peer ending a connection.</p>
<h2 id="syntax">Syntax</h2>
<pre data-language="js">MediaStreamTrack<span class="token punctuation">.</span><span class="token function-variable function">onended</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">;</span>
</pre>
<h3 id="value">Value</h3>
<p>A function to serve as an <a href="https://developer.mozilla.org/en-US/docs/Web/Events/Event_handlers"><code>EventHandler</code></a> for the <code><a href="ended_event">ended</a></code> event. The event handler function receives a single parameter: the event object, which is a simple <a href="../event"><code>Event</code></a> object.</p>
<h2 id="examples">Examples</h2>
<p>This example sets up an event handler for the <code>ended</code> event which changes an on-screen icon to indicate that the track is no longer active.</p> <pre data-language="js">track<span class="token punctuation">.</span><span class="token function-variable function">onended</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> statusElem <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"status-icon"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  statusElem<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">"/images/stopped-icon.png"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table"> <thead> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> </thead> <tbody> <tr> <td><a href="https://w3c.github.io/mediacapture-main/#dom-mediastreamtrack-onended" hreflang="en" rel=" noopener">Media Capture and Streams<br><small>The definition of 'MediaStreamTrack.onended' in that specification.</small></a></td> <td><span class="spec-cr">Candidate Recommendation</span></td> <td>Initial specification.</td> </tr> </tbody> </table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>onended</code></th>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>12</div></td>
<td class="bc-supports-yes"><div>50</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>11</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>50</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>11</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
</tr></tbody>
</table>


<h2 id="see_also">See also</h2>
<ul> <li>The <code><a href="ended_event">ended</a></code> event and its type, <a href="../event"><code>Event</code></a>.</li> </ul>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamTrack/onended" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamTrack/onended</a>
  </p>
</div>
