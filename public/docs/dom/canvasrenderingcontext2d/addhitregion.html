<h1>CanvasRenderingContext2D.addHitRegion()</h1> <div class="notecard deprecated"> <strong id="deprecated">Deprecated</strong> <p>This feature is no longer recommended. Though some browsers might still support it, it may have already been removed from the relevant web standards, may be in the process of being dropped, or may only be kept for compatibility purposes. Avoid using it, and update existing code if possible; see the <a href="#browser_compatibility">compatibility table</a> at the bottom of this page to guide your decision. Be aware that this feature may cease to work at any time.</p> </div> <p>The <a href="../canvasrenderingcontext2d"><code>CanvasRenderingContext2D</code></a> method <code>addHitRegion()</code> adds a hit region to the bitmap.</p> <p>Canvas hit regions make hit detection easy. They let you route events to DOM elements, and make it possible for users to explore the canvas without seeing it.</p>
<h2 id="syntax">Syntax</h2>
<pre data-language="js"><span class="token keyword">void</span> ctx<span class="token punctuation">.</span><span class="token function">addHitRegion</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
<h3 id="options">Options</h3>
<p>The <code>options</code> argument is optional. When provided, it is an <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><code>Object</code></a> which can contain the following properties:</p> <dl> <dt><code>path</code></dt> <dd>A <a href="../path2d"><code>Path2D</code></a> object describing the area of the hit region. If not provided, the current path is used.</dd> <dt><code>fillRule</code></dt> <dd>The algorithm by which to determine if a point is inside or outside the hit region.<br> Possible values: <ul> <li>
<code>nonzero</code>: The <a href="https://en.wikipedia.org/wiki/Nonzero-rule" rel=" noopener">non-zero winding rule</a>. Default rule.</li> <li>
<code><strong>evenodd</strong></code>: The <a href="https://en.wikipedia.org/wiki/Even%E2%80%93odd_rule" rel=" noopener">even-odd winding rule</a>.</li> </ul> </dd> <dt><code>id</code></dt> <dd>The ID for this hit region to reference it for later use in events, for example. </dd> <dt><code>parentID</code></dt> <dd>The ID of the parent region for cursor fallback and navigation by accessibility tools.</dd> <dt><code>cursor</code></dt> <dd>The <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/cursor"><code>cursor</code></a> to use when the mouse is over this region (defaults to <code>inherit</code>). Inherits the cursor of the parent hit region, if any, or the canvas element's cursor.</dd> <dt><code>control</code></dt> <dd>An element (descendant of the canvas) to which events are to be routed. Defaults to <code>null</code>.</dd> <dt><code>label</code></dt> <dd>A text label for accessibility tools to use as a description of the region, if there is no control. Defaults to <code>null</code>.</dd> <dt><code>role</code></dt> <dd>An <a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA">ARIA role</a> for accessibility tools to determine how to represent this region, if there is no control. Defaults to <code>null</code>.</dd> </dl>
<h2 id="examples">Examples</h2>
<h3 id="using_the_addhitregion_method">Using the <code>addHitRegion</code> method</h3>
<p>This example demonstrates the <code>addHitRegion()</code> method.</p> <h4 id="html">HTML</h4> <pre data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
</pre> <h4 id="javascript">JavaScript</h4> <pre data-language="js"><span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

canvas<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>region<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'ouch, my eye :('</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Eyes</span>
ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">addHitRegion</span><span class="token punctuation">(</span><span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token string">"eyes"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Mouth</span>
ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre> <p>Edit the code below to see your changes update live in the canvas. (If you don't see the full smiley, check the browser compatibility table to see if your current browser supports hit regions already; you might need to activate a preference.)</p> <p><iframe class="sample-code-frame" id="frame_Playable_code" width="700" height="520" src="https://yari-demos.prod.mdn.mozit.cloud/en-US/docs/Web/API/CanvasRenderingContext2D/addHitRegion/_samples_/Playable_code" loading="lazy"></iframe></p>
<h2 id="specifications">Specifications</h2>
<p>Canvas hit regions have been removed from the WHATWG Living Standard, although discussions about future standardization are ongoing. See <a href="https://github.com/whatwg/html/issues/3407" rel=" noopener">https://github.com/whatwg/html/issues/3407</a> for more information.</p>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="notecard warning"><p>No compatibility data found for <code>api.CanvasRenderingContext2D.addHitRegion</code>.<br><a href="#on-github">Check for problems with this page</a> or contribute missing data to <a href="https://github.com/mdn/browser-compat-data">mdn/browser-compat-data</a>.</p></div>


<h2 id="see_also">See also</h2>
<ul> <li>
<a href="removehitregion"><code>CanvasRenderingContext2D.removeHitRegion()</code></a> <span class="icon experimental" viewbox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" role="img"> This is an experimental API that should not be used in production code.  </span> </li> <li>
<a href="clearhitregions"><code>CanvasRenderingContext2D.clearHitRegions()</code></a> <span class="icon experimental" viewbox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" role="img"> This is an experimental API that should not be used in production code.  </span> </li> </ul>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/addHitRegion" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/addHitRegion</a>
  </p>
</div>
