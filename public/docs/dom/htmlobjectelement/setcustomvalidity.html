<h1>HTMLObjectElement.setCustomValidity</h1> <p class="summary">The <code>setCustomValidity()</code> method of the <a href="../htmlobjectelement"><code>HTMLObjectElement</code></a> interface sets a custom validity message for the element.</p>
<h2 id="syntax">Syntax</h2>
<pre data-language="js">HTMLObjectElement<span class="token punctuation">.</span><span class="token function">setCustomValidity</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span></pre>
<h3 id="parameters">Parameters</h3>
<dl> <dt>error</dt> <dd>The message to use for validity errors.</dd> </dl>
<h3 id="return_value">Return value</h3>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><code>undefined</code></a></p>
<h3 id="exceptions">Exceptions</h3>
<p>None.</p>
<h2 id="examples">Examples</h2>
<p>In this example, we pass the ID of an input element, and set different error messages depending on whether the value is missing, too low or too high. Additionally you <em>must</em> call the <a href="../htmlformelement/reportvalidity">reportValidity</a> method on the same element or nothing will happen.</p> <pre data-language="js"><span class="token keyword">function</span> <span class="token function">validate</span><span class="token punctuation">(</span><span class="token parameter">inputID</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
 <span class="token keyword">var</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>inputID<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">var</span> validityState_object <span class="token operator">=</span> input<span class="token punctuation">.</span>validity<span class="token punctuation">;</span>

 <span class="token keyword">if</span> <span class="token punctuation">(</span>validityState_object<span class="token punctuation">.</span>valueMissing<span class="token punctuation">)</span>
 <span class="token punctuation">{</span>
  input<span class="token punctuation">.</span><span class="token function">setCustomValidity</span><span class="token punctuation">(</span><span class="token string">'You gotta fill this out, yo!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  input<span class="token punctuation">.</span><span class="token function">reportValidity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>validityState_object<span class="token punctuation">.</span>rangeUnderflow<span class="token punctuation">)</span>
 <span class="token punctuation">{</span>
  input<span class="token punctuation">.</span><span class="token function">setCustomValidity</span><span class="token punctuation">(</span><span class="token string">'We need a higher number!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  input<span class="token punctuation">.</span><span class="token function">reportValidity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>validityState_object<span class="token punctuation">.</span>rangeOverflow<span class="token punctuation">)</span>
 <span class="token punctuation">{</span>
  input<span class="token punctuation">.</span><span class="token function">setCustomValidity</span><span class="token punctuation">(</span><span class="token string">'Thats too high!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  input<span class="token punctuation">.</span><span class="token function">reportValidity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">else</span>
 <span class="token punctuation">{</span>
  input<span class="token punctuation">.</span><span class="token function">setCustomValidity</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  input<span class="token punctuation">.</span><span class="token function">reportValidity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre> <p>It's vital to set the message to an empty string if there are no errors. As long as the error message is not null, the form will not pass validation and will not be submitted.</p>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a href="https://html.spec.whatwg.org/multipage/#dom-cva-setcustomvalidity" hreflang="en" rel=" noopener">HTML Living Standard<br><small>The definition of 'setCustomValidity' in that specification.</small></a></td> <td><span class="spec-living">Living Standard</span></td> <td>Initial definition.</td> </tr> </tbody> </table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>setCustomValidity</code></th>
<td class="bc-supports-yes"><div>10</div></td>
<td class="bc-supports-yes"><div>12</div></td>
<td class="bc-supports-yes"><div>4</div></td>
<td class="bc-supports-yes"><div>10</div></td>
<td class="bc-supports-yes"><div>≤12.1</div></td>
<td class="bc-supports-yes"><div>5.1</div></td>
<td class="bc-supports-yes"><div>≤37</div></td>
<td class="bc-supports-yes"><div>18</div></td>
<td class="bc-supports-yes"><div>4</div></td>
<td class="bc-supports-yes"><div>≤12.1</div></td>
<td class="bc-supports-yes"><div>5</div></td>
<td class="bc-supports-yes"><div>1.0</div></td>
</tr></tbody>
</table>


<h2 id="see_also">See also</h2>
<ul> <li><a href="../validitystate"><code>validityState</code></a></li> <li><a class="page-not-created"><code>validityState.valueMissing</code></a></li> <li><a href="../validitystate/typemismatch"><code>validityState.typeMismatch</code></a></li> <li><a href="../validitystate/patternmismatch"><code>validityState.patternMismatch</code></a></li> <li><a href="../validitystate/toolong"><code>validityState.tooLong</code></a></li> <li><a href="../validitystate/tooshort"><code>validityState.tooShort</code></a></li> <li><a href="../validitystate/rangeunderflow"><code>validityState.rangeUnderflow</code></a></li> <li><a href="../validitystate/rangeoverflow"><code>validityState.rangeOverflow</code></a></li> <li><a href="../validitystate/stepmismatch"><code>validityState.stepMismatch</code></a></li> <li><a class="page-not-created"><code>validityState.valid</code></a></li> <li><a class="page-not-created"><code>validityState.customError</code></a></li> </ul>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLObjectElement/setCustomValidity" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/HTMLObjectElement/setCustomValidity</a>
  </p>
</div>
