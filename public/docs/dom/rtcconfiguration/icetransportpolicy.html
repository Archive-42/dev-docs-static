<h1>RTCConfiguration.iceTransportPolicy</h1>
 <p>The <a href="../webrtc_api">WebRTC Device API</a> dictionary <a href="../rtcconfiguration"><code>RTCConfiguration</code></a>'s <code><strong>iceTransportPolicy</strong></code> property is a string indicating the transport selection policy the <a href="https://developer.mozilla.org/en-US/docs/Glossary/ICE">ICE</a> agent should use during negotiation of connections. Its value must come from the <a class="page-not-created"><code>RTCIceTransportPolicy</code></a> enumerated type.</p> <p>If this property isn't included in the <code>RTCConfiguration</code>, the default value, <code>all</code>, is used.</p>
<h2 id="syntax">Syntax</h2>
<pre data-language="js"><span class="token keyword">let</span> rtcConfiguration <span class="token operator">=</span> <span class="token punctuation">{</span>
  iceTransportPolicy<span class="token operator">:</span> policy
<span class="token punctuation">}</span><span class="token punctuation">;</span>

rtcConfiguration<span class="token punctuation">.</span>iceTransportPolicy <span class="token operator">=</span> policy<span class="token punctuation">;</span>
<span class="token keyword">let</span> policy <span class="token operator">=</span> rtcConfiguration<span class="token punctuation">.</span>iceTransportPolicy<span class="token punctuation">;</span>
</pre>
<h3 id="value">Value</h3>
<p>A <a href="../domstring"><code>DOMString</code></a> which indicates what <a href="https://rtcweb-wg.github.io/jsep/#rfc.section.3.5.3" rel=" noopener">ICE candidate policy</a> the ICE agent should use during the negotiation process, per the <a href="https://rtcweb-wg.github.io/jsep/" rel=" noopener">JSEP standard</a>. The permitted values are: </p> <dl> <dt><code>all</code></dt> <dd>The ICE agent is permitted to use any kind of candidate, including both local and relay candidates. The agent—or the browser itself—may still perform some form of IP filtering on the incoming candidates for reasons including privacy and security, as well as to limit the number of candidates. <strong>This is the default.</strong>
</dd> <dt><code>relay</code></dt> <dd> <p>The ICE agent only considers media relay candidates when evaluating candidates. This includes, for example, those candidates relayed by a <a href="https://developer.mozilla.org/en-US/docs/Glossary/STUN">STUN</a> or <a href="https://developer.mozilla.org/en-US/docs/Glossary/TURN">TURN</a> server.</p> <div class="note notecard">This can be used to prevent the remote endpoint from receiving the user's IP addresses, which may be important in some security situations. For example, in a video calling application, the app may want to prevent unknown callers from learning the callee's IP addresses until the callee has agreed to receive the call.</div> </dd> </dl>
<h2 id="examples">Examples</h2>
<p>In this example, a new connection is configured to only accept relay candidates.</p> <pre data-language="js"><span class="token keyword">let</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  iceServers<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      urls<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">"stun:stun.example.com"</span> <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  iceTransportPolicy<span class="token operator">:</span> <span class="token string">"relay"</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> pc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RTCPeerConnection</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span></pre>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td>
<a href="https://w3c.github.io/webrtc-pc/#dom-rtcconfiguration-icetransportpolicy" hreflang="en" rel=" noopener">WebRTC 1.0: Real-time Communication Between Browsers<br><small>The definition of 'RTCCandidate.iceTransportPolicy' in that specification.</small></a> </td> <td><span class="spec-cr">Candidate Recommendation</span></td> <td>Initial definition.</td> </tr> </tbody> </table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>iceTransportPolicy</code></th>
<td class="bc-supports-yes"><div>23</div></td>
<td class="bc-supports-yes"><div>≤79</div></td>
<td class="bc-supports-yes"><div>?</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>?</div></td>
<td class="bc-supports-yes"><div>≤37</div></td>
<td class="bc-supports-yes"><div>57</div></td>
<td class="bc-supports-yes"><div>?</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>?</div></td>
<td class="bc-supports-yes"><div>7.0</div></td>
</tr></tbody>
</table>


    <a href="https://developer.mozilla.org/en-US/docs/Web/API/RTCConfiguration/iceTransportPolicy" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/RTCConfiguration/iceTransportPolicy</a>
  </p>
</div>
