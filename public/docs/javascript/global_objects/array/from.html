<h1>Array.from()</h1> <p>The <code><strong>Array.from()</strong></code> static method creates a new, shallow-copied <code>Array</code> instance from an array-like or iterable object.</p> <iframe class="interactive" width="100%" height="410" src="https://interactive-examples.mdn.mozilla.net/pages/js/array-from.html" title="MDN Web Docs Interactive Example" loading="lazy"></iframe><h2 id="syntax">Syntax</h2>
<pre data-language="js"><span class="token comment">// Arrow function</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">currentValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">currentValue<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">currentValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span>

<span class="token comment">// Mapping function</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">,</span> mapFn<span class="token punctuation">)</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">,</span> mapFn<span class="token punctuation">,</span> thisArg<span class="token punctuation">)</span>

<span class="token comment">// Inline mapping function</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">mapFn</span><span class="token punctuation">(</span><span class="token parameter">currentValue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">mapFn</span><span class="token punctuation">(</span><span class="token parameter">currentValue<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">mapFn</span><span class="token punctuation">(</span><span class="token parameter">currentValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">mapFn</span><span class="token punctuation">(</span><span class="token parameter">currentValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> thisArg<span class="token punctuation">)</span>
</pre>
<h3 id="parameters">Parameters</h3>
<dl> <dt><code><var>arrayLike</var></code></dt> <dd>An array-like or iterable object to convert to an array.</dd> <dt>
<code><var>mapFn</var></code> <span class="badge inline optional">Optional</span>
</dt> <dd>Map function to call on every element of the array.</dd> <dt>
<code><var>thisArg</var></code> <span class="badge inline optional">Optional</span>
</dt> <dd>Value to use as <code>this</code> when executing <code><var>mapFn</var></code>. </dd> </dl>
<h3 id="return_value">Return value</h3>
<p>A new <a href="../array"><code>Array</code></a> instance.</p>
<h2 id="description">Description</h2>
<p><code>Array.from()</code> lets you create <code>Array</code>s from:</p> <ul> <li>array-like objects (objects with a <code>length</code> property and indexed elements); or</li> <li>
<a href="../../iteration_protocols">iterable objects</a> (objects such as <a href="../map"><code>Map</code></a> and <a href="../set"><code>Set</code></a>).</li> </ul> <p><code>Array.from()</code> has an optional parameter <code><var>mapFn</var></code>, which allows you to execute a <a href="map"><code>map()</code></a> function on each element of the array being created.</p> <p>More clearly, <code>Array.from(<var>obj</var>, <var>mapFn</var>, <var>thisArg</var>)</code><br> has the same result as <code>Array.from(<var>obj</var>).map(<var>mapFn</var>, <var>thisArg</var>)</code>,<br> except that it does not create an intermediate array.</p> <div class="note notecard"><p><strong>Note:</strong> This is especially important for certain array subclasses, like <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Typed_arrays">typed arrays</a>, since the intermediate array would necessarily have values truncated to fit into the appropriate type.</p></div> <p>The <code>length</code> property of the <code>from()</code> method is <code>1</code>. </p> <p>In ES2015, the class syntax allows sub-classing of both built-in and user-defined classes. As a result, static methods such as <code>Array.from()</code> are "inherited" by subclasses of <code>Array</code>, and create new instances <em>of the subclass</em>, not <code>Array</code>.</p>
<h2 id="examples">Examples</h2>
<h3 id="array_from_a_string">Array from a <code>String</code>
</h3>
<pre data-language="js">Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [ "f", "o", "o" ]</span></pre>
<h3 id="array_from_a_set">Array from a <code>Set</code>
</h3>
<pre data-language="js"><span class="token keyword">const</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token string">'baz'</span><span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [ "foo", "bar", "baz" ]</span></pre>
<h3 id="array_from_a_map">Array from a <code>Map</code>
</h3>
<pre data-language="js"><span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [[1, 2], [2, 4], [4, 8]]</span>

<span class="token keyword">const</span> mapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>mapper<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ['a', 'b'];</span>

Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>mapper<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ['1', '2'];</span>
</pre>
<h3 id="array_from_a_nodelist">Array from a <code>NodeList</code>
</h3>
<pre data-language="js"><span class="token comment">// Create an array based on a property of DOM Elements</span>
<span class="token keyword">const</span> images <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> sources <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>images<span class="token punctuation">,</span> <span class="token parameter">image</span> <span class="token operator">=&gt;</span> image<span class="token punctuation">.</span>src<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> insecureSources <span class="token operator">=</span> sources<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">link</span> <span class="token operator">=&gt;</span> link<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'http://'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre>
<h3 id="array_from_an_array-like_object_arguments">Array from an Array-like object (arguments)</h3>
<pre data-language="js"><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [ 1, 2, 3 ]</span></pre>
<h3 id="using_arrow_functions_and_array.from">Using arrow functions and <code>Array.from()</code>
</h3>
<pre data-language="js"><span class="token comment">// Using an arrow function as the map function to</span>
<span class="token comment">// manipulate the elements</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span> x <span class="token operator">+</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [2, 4, 6]</span>

<span class="token comment">// Generate a sequence of numbers</span>
<span class="token comment">// Since the array is initialized with `undefined` on each position,</span>
<span class="token comment">// the value of `v` below will be `undefined`</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span>length<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [0, 1, 2, 3, 4]</span>
</pre>
<h3 id="sequence_generator_range">Sequence generator (range)</h3>
<pre data-language="js"><span class="token comment">// Sequence generator function (commonly referred to as "range", e.g. Clojure, PHP etc)</span>
<span class="token keyword">const</span> <span class="token function-variable function">range</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">start<span class="token punctuation">,</span> stop<span class="token punctuation">,</span> step</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span> length<span class="token operator">:</span> <span class="token punctuation">(</span>stop <span class="token operator">-</span> start<span class="token punctuation">)</span> <span class="token operator">/</span> step <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> start <span class="token operator">+</span> <span class="token punctuation">(</span>i <span class="token operator">*</span> step<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Generate numbers range 0..4</span>
<span class="token function">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [0, 1, 2, 3, 4]</span>

<span class="token comment">// Generate numbers range 1..10 with step of 2</span>
<span class="token function">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [1, 3, 5, 7, 9]</span>

<span class="token comment">// Generate the alphabet using Array.from making use of it being ordered as a sequence</span>
<span class="token function">range</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'Z'</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> String<span class="token punctuation">.</span><span class="token function">fromCharCode</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"]</span>
</pre>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table"> <thead> <tr> <th scope="col">Specification</th> <th scope="col">Initial publication</th> </tr> </thead> <tbody> <tr> <td><a href="https://tc39.es/ecma262/#sec-array.from" hreflang="en" rel=" noopener">ECMAScript (ECMA-262)<br><small>The definition of 'Array.from' in that specification.</small></a></td> <td>ECMAScript 2015</td> </tr> </tbody> </table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>from</code></th>
<td class="bc-supports-yes"><div>45</div></td>
<td class="bc-supports-yes"><div>12</div></td>
<td class="bc-supports-yes"><div>32</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>32</div></td>
<td class="bc-supports-yes"><div>9</div></td>
<td class="bc-supports-yes"><div>45</div></td>
<td class="bc-supports-yes"><div>45</div></td>
<td class="bc-supports-yes"><div>32</div></td>
<td class="bc-supports-yes"><div>32</div></td>
<td class="bc-supports-yes"><div>9</div></td>
<td class="bc-supports-yes"><div>5.0</div></td>
</tr></tbody>
</table>


<h2 id="polyfill">Polyfill</h2>
<p><code>Array.from()</code> was added to the ECMA-262 standard in the 6<sup>th</sup> Edition (ES2015). As such, it may not be present in other implementations of the standard. </p> <p>You can work around this by inserting the following code at the beginning of your scripts, allowing use of <code>Array.from()</code> in implementations that don't natively support it.</p> <div class="notecard note"> <p><strong>Note:</strong> This algorithm is exactly as specified in ECMA-262 6<sup>th</sup> Edition (assuming <code>Object</code> and <code>TypeError</code> have their original values and that <code><var>callback</var>.call()</code> evaluates to the original value of <a href="../function/call"><code>Function.prototype.call()</code></a>).</p> <p>In addition, since true iterables cannot be polyfilled, this implementation does not support generic iterables as defined in the 6<sup>th</sup> Edition of ECMA-262.</p> </div> <pre data-language="js"><span class="token comment">// Production steps of ECMA-262, Edition 6, 22.1.2.1</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span>from<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Array<span class="token punctuation">.</span>from <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> symbolIterator<span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            symbolIterator <span class="token operator">=</span> Symbol<span class="token punctuation">.</span>iterator
                <span class="token operator">?</span> Symbol<span class="token punctuation">.</span>iterator
                <span class="token operator">:</span> <span class="token string">'Symbol(Symbol.iterator)'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            symbolIterator <span class="token operator">=</span> <span class="token string">'Symbol(Symbol.iterator)'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">var</span> toStr <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">;</span>
        <span class="token keyword">var</span> <span class="token function-variable function">isCallable</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span>
                <span class="token keyword">typeof</span> fn <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">||</span>
                <span class="token function">toStr</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'[object Function]'</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> <span class="token function-variable function">toInteger</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> number <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>number <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">isFinite</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> number<span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span>number <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> maxSafeInteger <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> <span class="token function-variable function">toLength</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> len <span class="token operator">=</span> <span class="token function">toInteger</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>len<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> maxSafeInteger<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token keyword">var</span> <span class="token function-variable function">setGetItemHandler</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">setGetItemHandler</span><span class="token punctuation">(</span><span class="token parameter">isIterator<span class="token punctuation">,</span> items</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> iterator <span class="token operator">=</span> isIterator <span class="token operator">&amp;&amp;</span> items<span class="token punctuation">[</span>symbolIterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">getItem</span><span class="token punctuation">(</span><span class="token parameter">k</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> isIterator <span class="token operator">?</span> iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> items<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token keyword">var</span> <span class="token function-variable function">getArray</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">getArray</span><span class="token punctuation">(</span>
            <span class="token parameter"><span class="token constant">T</span><span class="token punctuation">,</span>
            <span class="token constant">A</span><span class="token punctuation">,</span>
            len<span class="token punctuation">,</span>
            getItem<span class="token punctuation">,</span>
            isIterator<span class="token punctuation">,</span>
            mapFn</span>
        <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 16. Let k be 0.</span>
            <span class="token keyword">var</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

            <span class="token comment">// 17. Repeat, while k &lt; len… or while iterator is done (also steps a - h)</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>k <span class="token operator">&lt;</span> len <span class="token operator">||</span> isIterator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">var</span> item <span class="token operator">=</span> <span class="token function">getItem</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">var</span> kValue <span class="token operator">=</span> isIterator <span class="token operator">?</span> item<span class="token punctuation">.</span>value <span class="token operator">:</span> item<span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>isIterator <span class="token operator">&amp;&amp;</span> item<span class="token punctuation">.</span>done<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token constant">A</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>mapFn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token constant">A</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span>
                            <span class="token keyword">typeof</span> <span class="token constant">T</span> <span class="token operator">===</span> <span class="token string">'undefined'</span>
                                <span class="token operator">?</span> <span class="token function">mapFn</span><span class="token punctuation">(</span>kValue<span class="token punctuation">,</span> k<span class="token punctuation">)</span>
                                <span class="token operator">:</span> <span class="token function">mapFn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">,</span> kValue<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                        <span class="token constant">A</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> kValue<span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                k <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>isIterator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span>
                    <span class="token string">'Array.from: provided arrayLike or iterator has length more then 2 ** 52 - 1'</span>
                <span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token constant">A</span><span class="token punctuation">.</span>length <span class="token operator">=</span> len<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">return</span> <span class="token constant">A</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token comment">// The length property of the from method is 1.</span>
        <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token keyword">from</span><span class="token punctuation">(</span>arrayLikeOrIterator <span class="token comment">/*, mapFn, thisArg */</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 1. Let C be the this value.</span>
            <span class="token keyword">var</span> <span class="token constant">C</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>

            <span class="token comment">// 2. Let items be ToObject(arrayLikeOrIterator).</span>
            <span class="token keyword">var</span> items <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span>arrayLikeOrIterator<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> isIterator <span class="token operator">=</span> <span class="token function">isCallable</span><span class="token punctuation">(</span>items<span class="token punctuation">[</span>symbolIterator<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 3. ReturnIfAbrupt(items).</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>arrayLikeOrIterator <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>isIterator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span>
                    <span class="token string">'Array.from requires an array-like object or iterator - not null or undefined'</span>
                <span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment">// 4. If mapfn is undefined, then let mapping be false.</span>
            <span class="token keyword">var</span> mapFn <span class="token operator">=</span> arguments<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">?</span> arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token keyword">void</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> <span class="token constant">T</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> mapFn <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 5. else</span>
                <span class="token comment">// 5. a If IsCallable(mapfn) is false, throw a TypeError exception.</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isCallable</span><span class="token punctuation">(</span>mapFn<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span>
                        <span class="token string">'Array.from: when provided, the second argument must be a function'</span>
                    <span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token comment">// 5. b. If thisArg was supplied, let T be thisArg; else let T be undefined.</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token constant">T</span> <span class="token operator">=</span> arguments<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>

            <span class="token comment">// 10. Let lenValue be Get(items, "length").</span>
            <span class="token comment">// 11. Let len be ToLength(lenValue).</span>
            <span class="token keyword">var</span> len <span class="token operator">=</span> <span class="token function">toLength</span><span class="token punctuation">(</span>items<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 13. If IsConstructor(C) is true, then</span>
            <span class="token comment">// 13. a. Let A be the result of calling the [[Construct]] internal method</span>
            <span class="token comment">// of C with an argument list containing the single item len.</span>
            <span class="token comment">// 14. a. Else, Let A be ArrayCreate(len).</span>
            <span class="token keyword">var</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token function">isCallable</span><span class="token punctuation">(</span><span class="token constant">C</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">Object</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">C</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">return</span> <span class="token function">getArray</span><span class="token punctuation">(</span>
                <span class="token constant">T</span><span class="token punctuation">,</span>
                <span class="token constant">A</span><span class="token punctuation">,</span>
                len<span class="token punctuation">,</span>
                <span class="token function">setGetItemHandler</span><span class="token punctuation">(</span>isIterator<span class="token punctuation">,</span> items<span class="token punctuation">)</span><span class="token punctuation">,</span>
                isIterator<span class="token punctuation">,</span>
                mapFn
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre>
<h2 id="see_also">See also</h2>
<ul> <li><a href="../array"><code>Array</code></a></li> <li><a href="map"><code>Array.prototype.map()</code></a></li> <li><a href="../typedarray/from"><code>TypedArray.from()</code></a></li> </ul>
    <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from</a>
  </p>
</div>
