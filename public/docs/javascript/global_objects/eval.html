<h1>eval()</h1> <div class="notecard warning"> <p><strong>Warning:</strong> Executing JavaScript from a string is an enormous security risk. It is far too easy for a bad actor to run arbitrary code when you use <code>eval()</code>. See <a href="#never_use_eval!">Never use eval()!</a>, below.</p> </div> <p>The <code><strong>eval()</strong></code> function evaluates JavaScript code represented as a string.</p> <iframe class="interactive" width="100%" height="490" src="https://interactive-examples.mdn.mozilla.net/pages/js/globalprops-eval.html" title="MDN Web Docs Interactive Example" loading="lazy"></iframe><h2 id="syntax">Syntax</h2>
<pre data-language="js"><span class="token function">eval</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span></pre>
<h3 id="parameters">Parameters</h3>
<dl> <dt><code>string</code></dt> <dd>A string representing a JavaScript expression, statement, or sequence of statements. The expression can include variables and properties of existing objects.</dd> </dl>
<h3 id="return_value">Return value</h3>
<p>The completion value of evaluating the given code. If the completion value is empty, <a href="undefined"><code>undefined</code></a> is returned.</p>
<h2 id="description">Description</h2>
<p><code>eval()</code> is a function property of the global object.</p> <p>The argument of the <code>eval()</code> function is a string. If the string represents an expression, <code>eval()</code> evaluates the expression. If the argument represents one or more JavaScript statements, <code>eval()</code> evaluates the statements. Do not call <code>eval()</code> to evaluate an arithmetic expression; JavaScript evaluates arithmetic expressions automatically.</p> <p>If you construct an arithmetic expression as a string, you can use <code>eval()</code> to evaluate it at a later time. For example, suppose you have a variable <code>x</code>. You can postpone evaluation of an expression involving <code>x</code> by assigning the string value of the expression, say "<code>3 * x + 2</code>", to a variable, and then calling <code>eval()</code> at a later point in your script.</p> <p>If the argument of <code>eval()</code> is not a string, <code>eval()</code> returns the argument unchanged. In the following example, the <code>String</code> constructor is specified and <code>eval()</code> returns a <code>String</code> object rather than evaluating the string.</p> <pre data-language="js"><span class="token function">eval</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'2 + 2'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// returns a String object containing "2 + 2"</span>
<span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">'2 + 2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// returns 4</span>
</pre> <p>You can work around this limitation in a generic fashion by using <code>toString()</code>.</p> <pre data-language="js"><span class="token keyword">var</span> expression <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'2 + 2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">eval</span><span class="token punctuation">(</span>expression<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// returns 4</span>
</pre> <p>If you use the <code>eval</code> function <em>indirectly,</em> by invoking it via a reference other than <code>eval</code>, <a href="https://www.ecma-international.org/ecma-262/5.1/#sec-10.4.2" rel=" noopener">as of ECMAScript 5</a> it works in the global scope rather than the local scope. This means, for instance, that function declarations create global functions, and that the code being evaluated doesn't have access to local variables within the scope where it's being called.</p> <pre data-language="js"><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
  <span class="token comment">// Direct call, uses local scope</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">'x + y'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Result is 6</span>
  <span class="token comment">// Indirect call using the comma operator to return eval</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> eval<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">'x + y'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Uses global scope, throws because x is undefined</span>
  <span class="token comment">// Indirect call using a variable to store and return eval</span>
  <span class="token keyword">var</span> geval <span class="token operator">=</span> eval<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">geval</span><span class="token punctuation">(</span><span class="token string">'x + y'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Uses global scope, throws because x is undefined</span>
<span class="token punctuation">}</span>
</pre>
<h2 id="never_use_eval!">Never use eval()!</h2>
<p><code>eval()</code> is a dangerous function, which executes the code it's passed with the privileges of the caller. If you run <code>eval()</code> with a string that could be affected by a malicious party, you may end up running malicious code on the user's machine with the permissions of your webpage / extension. More importantly, a third-party code can see the scope in which <code>eval()</code> was invoked, which can lead to possible attacks in ways to which the similar <a href="function"><code>Function</code></a> is not susceptible.</p> <p><code>eval()</code> is also slower than the alternatives, since it has to invoke the JavaScript interpreter, while many other constructs are optimized by modern JS engines. </p> <p>Additionally, modern javascript interpreters convert javascript to machine code. This means that any concept of variable naming gets obliterated. Thus, any use of <code>eval()</code> will force the browser to do long expensive variable name lookups to figure out where the variable exists in the machine code and set its value. Additionally, new things can be introduced to that variable through <code>eval()</code> such as changing the type of that variable, forcing the browser to re-evaluate all of the generated machine code to compensate.</p> <p>Fortunately, there's a very good alternative to <code>eval()</code>: using <a href="function"><code>window.Function()</code></a>. See this example of how to convert code using a dangerous <code>eval()</code> to using <code>Function()</code>, see below.</p> <p>Bad code with <code>eval()</code>:</p> <pre data-language="js"><span class="token keyword">function</span> <span class="token function">looseJsonParse</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">"("</span> <span class="token operator">+</span> obj <span class="token operator">+</span> <span class="token string">")"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">looseJsonParse</span><span class="token punctuation">(</span>
   <span class="token string">"{a:(4-1), b:function(){}, c:new Date()}"</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span>
</pre> <p>Better code without <code>eval()</code>:</p> <pre data-language="js"><span class="token keyword">function</span> <span class="token function">looseJsonParse</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">Function</span><span class="token punctuation">(</span><span class="token string">'"use strict";return ('</span> <span class="token operator">+</span> obj <span class="token operator">+</span> <span class="token string">')'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">looseJsonParse</span><span class="token punctuation">(</span>
   <span class="token string">"{a:(4-1), b:function(){}, c:new Date()}"</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span>
</pre> <p>Comparing the two code snippets above, the two code snippets might seem to work the same way, but think again: the <code>eval()</code> one is a great deal slower. Notice <code>c: new Date()</code> in the evaluated object. In the function without the <code>eval()</code>, the object is being evaluated in the global scope, so it is safe for the browser to assume that <code>Date</code> refers to <code>window.Date()</code> instead of a local variable called <code>Date</code>. But, in the code using <code>eval()</code>, the browser cannot assume this since what if your code looked like the following:</p> <pre data-language="js"><span class="token keyword">function</span> <span class="token function">Date</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">"Monday"</span><span class="token punctuation">,</span><span class="token string">"Tuesday"</span><span class="token punctuation">,</span><span class="token string">"Wednesday"</span><span class="token punctuation">,</span><span class="token string">"Thursday"</span><span class="token punctuation">,</span><span class="token string">"Friday"</span><span class="token punctuation">,</span><span class="token string">"Saturday"</span><span class="token punctuation">,</span><span class="token string">"Sunday"</span><span class="token punctuation">]</span><span class="token punctuation">[</span>n<span class="token operator">%</span><span class="token number">7</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">looseJsonParse</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">"("</span> <span class="token operator">+</span> obj <span class="token operator">+</span> <span class="token string">")"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">looseJsonParse</span><span class="token punctuation">(</span>
   <span class="token string">"{a:(4-1), b:function(){}, c:new Date()}"</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span>
</pre> <p>Thus, in the <code>eval()</code> version of the code, the browser is forced to make the expensive lookup call to check to see if there are any local variables called <code>Date()</code>. This is incredibly inefficient compared to <code>Function()</code>. </p> <p>In a related circumstance, what if you actually wanted your <code>Date()</code> function to be able to be called from the code inside <code>Function()</code>. Should you just take the easy way out and fall back to <code>eval()</code>? No! Never. Instead try the approach below.</p> <pre data-language="js"><span class="token keyword">function</span> <span class="token function">Date</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">"Monday"</span><span class="token punctuation">,</span><span class="token string">"Tuesday"</span><span class="token punctuation">,</span><span class="token string">"Wednesday"</span><span class="token punctuation">,</span><span class="token string">"Thursday"</span><span class="token punctuation">,</span><span class="token string">"Friday"</span><span class="token punctuation">,</span><span class="token string">"Saturday"</span><span class="token punctuation">,</span><span class="token string">"Sunday"</span><span class="token punctuation">]</span><span class="token punctuation">[</span>n<span class="token operator">%</span><span class="token number">7</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">runCodeWithDateFunction</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">Function</span><span class="token punctuation">(</span><span class="token string">'"use strict";return ('</span> <span class="token operator">+</span> obj <span class="token operator">+</span> <span class="token string">')'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span>
        Date
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">runCodeWithDateFunction</span><span class="token punctuation">(</span>
   <span class="token string">"function(Date){ return Date(5) }"</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span>
</pre> <p>The code above may seem inefficiently slow because of the triple nested function, but let's analyze the benefits of the above efficient method:</p> <ul> <li>It allows the code in the string passed to <code>runCodeWithDateFunction()</code> to be minified.</li> <li>Function call overhead is minimal, making the far smaller code size well worth the benefit</li> <li>
<code>Function()</code> more easily allows your code to utilize the performance buttering <code>"use strict";</code>
</li> <li>The code does not use <code>eval()</code>, making it orders of magnitude faster than otherwise.</li> </ul> <p>Lastly, let's examine minification. With using <code>Function()</code> as shown above, you can minify the code string passed to <code>runCodeWithDateFunction()</code> far more efficiently because the function arguments names can be minified too as seen in the minified code below.</p> <pre data-language="js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Function</span><span class="token punctuation">(</span><span class="token string">'"use strict";return(function(a){return a(5)})'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token keyword">return</span><span class="token string">"Monday Tuesday Wednesday Thursday Friday Saturday Sunday"</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">[</span>a<span class="token operator">%</span><span class="token number">7</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre> <p>There are also additional safer (and faster!) alternatives to <code>eval()</code> or <code>Function()</code> for common use-cases.</p>
<h3 id="accessing_member_properties">Accessing member properties</h3>
<p>You should not use <code>eval()</code> to convert property names into properties. Consider the following example where the property of the object to be accessed is not known until the code is executed. This can be done with <code>eval()</code>:</p> <pre data-language="js"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> propName <span class="token operator">=</span> <span class="token function">getPropName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// returns "a" or "b"</span>

<span class="token function">eval</span><span class="token punctuation">(</span> <span class="token string">'var result = obj.'</span> <span class="token operator">+</span> propName <span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre> <p>However, <code>eval()</code> is not necessary here. In fact, its use here is discouraged. Instead, use the <a href="../operators/property_accessors">property accessors</a>, which are much faster and safer:</p> <pre data-language="js"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> propName <span class="token operator">=</span> <span class="token function">getPropName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// returns "a" or "b"</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> obj<span class="token punctuation">[</span> propName <span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">//  obj[ "a" ] is the same as obj.a</span></pre> <p>You can even use this method to access descendant properties. Using <code>eval()</code> this would look like:</p> <pre data-language="js"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token operator">:</span> <span class="token punctuation">{</span>b<span class="token operator">:</span> <span class="token punctuation">{</span>c<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> propPath <span class="token operator">=</span> <span class="token function">getPropPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// returns e.g. "a.b.c"</span>

<span class="token function">eval</span><span class="token punctuation">(</span> <span class="token string">'var result = obj.'</span> <span class="token operator">+</span> propPath <span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre> <p>Avoiding <code>eval()</code> here could be done by splitting the property path and looping through the different properties:</p> <pre data-language="js"><span class="token keyword">function</span> <span class="token function">getDescendantProp</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> desc</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> arr <span class="token operator">=</span> desc<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    obj <span class="token operator">=</span> obj<span class="token punctuation">[</span>arr<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token operator">:</span> <span class="token punctuation">{</span>b<span class="token operator">:</span> <span class="token punctuation">{</span>c<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> propPath <span class="token operator">=</span> <span class="token function">getPropPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// returns e.g. "a.b.c"</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token function">getDescendantProp</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> propPath<span class="token punctuation">)</span><span class="token punctuation">;</span></pre> <p>Setting a property that way works similarly:</p> <pre data-language="js"><span class="token keyword">function</span> <span class="token function">setDescendantProp</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> desc<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> arr <span class="token operator">=</span> desc<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    obj <span class="token operator">=</span> obj<span class="token punctuation">[</span>arr<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">[</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token operator">:</span> <span class="token punctuation">{</span>b<span class="token operator">:</span> <span class="token punctuation">{</span>c<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> propPath <span class="token operator">=</span> <span class="token function">getPropPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// returns e.g. "a.b.c"</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token function">setDescendantProp</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> propPath<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// obj.a.b.c will now be 1</span></pre>
<h3 id="use_functions_instead_of_evaluating_snippets_of_code">Use functions instead of evaluating snippets of code</h3>
<p>JavaScript has <a href="https://en.wikipedia.org/wiki/First-class_function" rel=" noopener">first-class functions</a>, which means you can pass functions as arguments to other APIs, store them in variables and objects' properties, and so on. Many DOM APIs are designed with this in mind, so you can (and should) write:</p> <pre data-language="js"><span class="token comment">// instead of setTimeout(" ... ", 1000) use:</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// instead of elt.setAttribute("onclick", "...") use:</span>
elt<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span> <span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </pre> <p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures">Closures</a> are also helpful as a way to create parameterized functions without concatenating strings.</p>
<h3 id="parsing_json_converting_strings_to_javascript_objects">Parsing JSON (converting strings to JavaScript objects)</h3>
<p>If the string you're calling <code>eval()</code> on contains data (for example, an array: <code>"[1, 2, 3]"</code>), as opposed to code, you should consider switching to <a href="https://developer.mozilla.org/en-US/docs/Glossary/JSON">JSON</a>, which allows the string to use a subset of JavaScript syntax to represent data.</p> <p>Note that since JSON syntax is limited compared to JavaScript syntax, many valid JavaScript literals will not parse as JSON. For example, trailing commas are not allowed in JSON, and property names (keys) in object literals must be enclosed in quotes. Be sure to use a JSON serializer to generate strings that will be later parsed as JSON.</p>
<h3 id="pass_data_instead_of_code">Pass data instead of code</h3>
<p>For example, an extension designed to scrape contents of web-pages could have the scraping rules defined in <a href="https://developer.mozilla.org/en-US/docs/Web/XPath">XPath</a> instead of JavaScript code.</p>
<h2 id="examples">Examples</h2>
<h3 id="using_eval">Using <code>eval</code>
</h3>
<p>In the following code, both of the statements containing <code>eval()</code> return 42. The first evaluates the string "<code>x + y + 1</code>"; the second evaluates the string "<code>42</code>".</p> <pre data-language="js"><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token number">39</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> z <span class="token operator">=</span> <span class="token string">'42'</span><span class="token punctuation">;</span>
<span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">'x + y + 1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// returns 42</span>
<span class="token function">eval</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// returns 42</span>
</pre>
<h3 id="using_eval_to_evaluate_a_string_of_javascript_statements">Using <code>eval</code> to evaluate a string of JavaScript statements</h3>
<p>The following example uses <code>eval()</code> to evaluate the string <code>str</code>. This string consists of JavaScript statements that assigns <code>z</code> a value of 42 if <code>x</code> is five, and assigns 0 to <code>z</code> otherwise. When the second statement is executed, <code>eval()</code> will cause these statements to be performed, and it will also evaluate the set of statements and return the value that is assigned to <code>z</code>.</p> <pre data-language="js"><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">"if (x == 5) {console.log('z is 42'); z = 42;} else z = 0;"</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'z is '</span><span class="token punctuation">,</span> <span class="token function">eval</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre> <p>If you define multiple values then the last value is returned.</p> <pre data-language="js"><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">"if (x == 5) {console.log('z is 42'); z = 42; x = 420; } else z = 0;"</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'x is '</span><span class="token punctuation">,</span> <span class="token function">eval</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// z is 42  x is 420</span>
</pre>
<h3 id="last_expression_is_evaluated">Last expression is evaluated</h3>
<p><code>eval()</code> returns the value of the last expression evaluated.</p> <pre data-language="js"><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'if ( a ) { 1 + 1; } else { 1 + 2; }'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token function">eval</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// returns 2</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b is : '</span> <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>

a <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
b <span class="token operator">=</span> <span class="token function">eval</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// returns 3</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b is : '</span> <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span></pre>
<h3 id="eval_as_a_string_defining_function_requires_and_as_prefix_and_suffix"> <code>eval</code> as a string defining function requires "(" and ")" as prefix and suffix</h3>
<pre data-language="js"><span class="token keyword">var</span> fctStr1 <span class="token operator">=</span> <span class="token string">'function a() {}'</span>
<span class="token keyword">var</span> fctStr2 <span class="token operator">=</span> <span class="token string">'(function a() {})'</span>
<span class="token keyword">var</span> fct1 <span class="token operator">=</span> <span class="token function">eval</span><span class="token punctuation">(</span>fctStr1<span class="token punctuation">)</span>  <span class="token comment">// return undefined</span>
<span class="token keyword">var</span> fct2 <span class="token operator">=</span> <span class="token function">eval</span><span class="token punctuation">(</span>fctStr2<span class="token punctuation">)</span>  <span class="token comment">// return a function</span>
</pre>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://tc39.es/ecma262/#sec-eval-x">ECMAScript Language Specification (ECMAScript)<br> <small>#sec-eval-x</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>eval</code></th>
<td class="bc-supports-yes"><div>1</div></td>
<td class="bc-supports-yes"><div>12</div></td>
<td class="bc-supports-yes"><div>1</div></td>
<td class="bc-supports-yes"><div>3</div></td>
<td class="bc-supports-yes"><div>3</div></td>
<td class="bc-supports-yes"><div>1</div></td>
<td class="bc-supports-yes"><div>1</div></td>
<td class="bc-supports-yes"><div>18</div></td>
<td class="bc-supports-yes"><div>4</div></td>
<td class="bc-supports-yes"><div>10.1</div></td>
<td class="bc-supports-yes"><div>1</div></td>
<td class="bc-supports-yes"><div>1.0</div></td>
</tr></tbody>
</table>


<h2 id="see_also">See also</h2>
<ul> <li><a href="uneval"><code>uneval()</code></a></li> <li><a href="../operators/property_accessors">Property accessors</a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Content_scripts#using_eval()_in_content_scripts">WebExtensions: Using eval in content scripts</a></li> </ul>
    <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval</a>
  </p>
</div>
