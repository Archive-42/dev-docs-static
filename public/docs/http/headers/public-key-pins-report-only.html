<h1>Public-Key-Pins-Report-Only</h1><div class="blockIndicator deprecated deprecatedHeader"> <p><strong>Deprecated</strong><br>This feature is no longer recommended. Though some browsers might still support it, it may have already been removed from the relevant web standards, may be in the process of being dropped, or may only be kept for compatibility purposes. Avoid using it, and update existing code if possible; see the <a href="#Browser_compatibility">compatibility table</a> at the bottom of this page to guide your decision. Be aware that this feature may cease to work at any time.</p> </div> <div class="blockIndicator note">
<strong>Note:</strong> Public Key Pinning mechanism was deprecated in favor of <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Certificate_Transparency">Certificate Transparency</a> and <a href="expect-ct"><code>Expect-CT</code></a> header.</div> <p>The HTTP <code><strong>Public-Key-Pins-Report-Only</strong></code> response header was used to send reports of pinning violation to the <code>report-uri</code> specified in the header but, unlike <a href="public-key-pins"><code>Public-Key-Pins</code></a> still allows browsers to connect to the server if the pinning is violated. The header is silently ignored in modern browsers as support for HPKP has been removed. Use <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Certificate_Transparency">Certificate Transparency</a> and the <a href="expect-ct"><code>Expect-CT</code></a> header instead.</p> <p>For more information, see the <a href="public-key-pins"><code>Public-Key-Pins</code></a> header reference page and the <a href="../public_key_pinning">HTTP Public Key Pinning</a> article.</p> <div class="_table"><table class="properties"> <tbody> <tr> <th scope="row">Header type</th> <td><a href="https://developer.mozilla.org/en-US/docs/Glossary/Response_header">Response header</a></td> </tr> <tr> <th scope="row"><a href="https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name">Forbidden header name</a></th> <td>no</td> </tr> </tbody> </table></div> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox notranslate">Public-Key-Pins-Report-Only: pin-sha256="&lt;pin-value&gt;"; 
                             max-age=&lt;expire-time&gt;; 
                             includeSubDomains; 
                             report-uri="&lt;uri&gt;"</pre> <h2 id="Directives">Directives</h2> <dl> <dt><code>pin-sha256="&lt;pin-value&gt;"</code></dt> <dd>The quoted string is the Base64 encoded Subject Public Key Information (<a href="https://developer.mozilla.org/en-US/docs/Glossary/SPKI">SPKI</a>) fingerprint. It is possible to specify multiple pins for different public keys. Some browsers might allow other hashing algorithms than SHA-256 in the future.</dd> <dt>max-age=&lt;expire-time&gt;</dt> <dd>This directive is meaningless for the Public-Key-Pins-Report-Only header, it will be ignored by user agents and the header will not be cached.</dd> <dt>
<code>includeSubDomains </code><span class="inlineIndicator optional optionalInline">Optional</span>
</dt> <dd>If this optional parameter is specified, this rule applies to all of the site's subdomains as well.</dd> <dt><code>report-uri="&lt;uri&gt;"</code></dt> <dd>Pin validation failures are reported to the given URL. This directive should be used with this header, otherwise this header will be a no-op.</dd> </dl> <h2 id="Example">Example</h2> <pre class="notranslate">Public-Key-Pins-Report-Only: 
  pin-sha256="cUPcTAZWKaASuYWhhneDttWpY3oBAkE3h2+soZS7sWs="; 
  pin-sha256="M8HztCzM3elUxkcjR2S5P4hhyBNf6lHkmjAHKhpGPWE="; 
  includeSubDomains; 
  report-uri="https://www.example.org/hpkp-report"</pre> <p>In this example, <strong>pin-sha256="cUPcTAZWKaASuYWhhneDttWpY3oBAkE3h2+soZS7sWs="</strong> pins the server's public key used in production. The second pin declaration <strong>pin-sha256="M8HztCzM3elUxkcjR2S5P4hhyBNf6lHkmjAHKhpGPWE="</strong> also pins the backup key. This key pinning is also valid for all subdomains, which is told by the <strong>includeSubDomains</strong> declaration. Finally, <strong>report-uri="https://www.example.org/hpkp-report"</strong> explains where to report pin validation failures.</p> <h2 id="Specifications">Specifications</h2> <div class="_table"><table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Title</th> </tr> <tr> <td><a href="https://tools.ietf.org/html/rfc7469#section-2.1">RFC 7469, section 2.1: Public-Key-Pins-Report-Only</a></td> <td>Public Key Pinning Extension for HTTP</td> </tr> </tbody> </table></div> <h2 id="Browser_compatibility">Browser compatibility<a class="bc-github-link" href="https://github.com/mdn/browser-compat-data">Update compatibility data on GitHub</a>
</h2>  <div class="_table">
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="6"><span>Desktop</span></th>
</tr>
<tr class="bc-browsers">
<th></th>
<th><span class="bc-head-txt-label bc-head-icon-chrome">Chrome</span></th>
<th><span class="bc-head-txt-label bc-head-icon-edge">Edge</span></th>
<th><span class="bc-head-txt-label bc-head-icon-firefox">Firefox</span></th>
<th><span class="bc-head-txt-label bc-head-icon-ie">Internet Explorer</span></th>
<th><span class="bc-head-txt-label bc-head-icon-opera">Opera</span></th>
<th><span class="bc-head-txt-label bc-head-icon-safari">Safari</span></th>
</tr>
</thead>
<tbody><tr>
<th scope="row">
<code>Public-Key-Pins-Report-Only</code> 
</th>
<td class="bc-supports-no">46 — 72</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no bc-has-history"> No
<section class="bc-history" id="sect1"><dl>
<dt class="bc-supports-no bc-supports"> No
</dt>
<dd> See <a href="https://bugzil.la/1091177">bug 1091177</a>.</dd>
</dl></section>
</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no">33 — 60</td>
<td class="bc-supports-no"> No</td>
</tr></tbody>
</table>
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="6"><span>Mobile</span></th>
</tr>
<tr class="bc-browsers">
<th></th>
<th><span class="bc-head-txt-label bc-head-icon-webview_android">Android webview</span></th>
<th><span class="bc-head-txt-label bc-head-icon-chrome_android">Chrome for Android</span></th>
<th><span class="bc-head-txt-label bc-head-icon-firefox_android">Firefox for Android</span></th>
<th><span class="bc-head-txt-label bc-head-icon-opera_android">Opera for Android</span></th>
<th><span class="bc-head-txt-label bc-head-icon-safari_ios">Safari on iOS</span></th>
<th><span class="bc-head-txt-label bc-head-icon-samsunginternet_android">Samsung Internet</span></th>
</tr>
</thead>
<tbody><tr>
<th scope="row">
<code>Public-Key-Pins-Report-Only</code> 
</th>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no">? — 72</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no">33 — 51</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no">5.0 — 11.0</td>
</tr></tbody>
</table>
</div> <h2 id="See_also">See also</h2> <ul> <li><a href="public-key-pins"><code>Public-Key-Pins</code></a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Public-Key-Pins-Report-Only$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2020 Mozilla and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Public-Key-Pins-Report-Only" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Public-Key-Pins-Report-Only</a>
  </p>
</div>
