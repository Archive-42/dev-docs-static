<h1>forced-colors</h1> <p>The <code>forced-colors</code> <a href="https://developer.mozilla.org/en-US/docs/Web/CSS">CSS</a> <a href="../media_queries/using_media_queries#media_features">media feature</a> is used to detect if the <a href="https://developer.mozilla.org/en-US/docs/Glossary/User_agent">user agent</a> has enabled a forced colors mode where it enforces a user-chosen limited color palette on the page. An example of a forced colors mode is Windows High Contrast mode.</p>
<h2 id="syntax">Syntax</h2>
<p>The <code>forced-colors</code> media feature indicates whether or not the browser is currently in forced-colors mode.</p>
<h3 id="values">Values</h3>
<dl> <dt><code><dfn>none</dfn></code></dt> <dd>Forced colors mode is not active; the page’s colors are not being forced into a limited palette.</dd> <dt><code>active</code></dt> <dd>Indicates that forced colors mode is active. The browser provides the color palette to authors through the <a href="../color_value#system_colors">CSS system color</a> keywords and, if appropriate, triggers the appropriate value of <code><a href="prefers-color-scheme">prefers-color-scheme</a></code> so that authors can adapt the page. The browser selects the value for <code>prefers-color-scheme</code> based on the lightness of the <code>Canvas</code> system color (see the <a href="https://www.w3.org/TR/css-color-adjust-1/#forced" rel=" noopener">color adjust spec</a> for more details).</dd> </dl>
<h2 id="usage_notes">Usage notes</h2>
<h3 id="properties_affected_by_forced-color_mode">Properties affected by forced-color mode</h3>
<p>In forced colors mode, the values of the following properties are treated as if they have no author-level values specified. That is, browser-specified values are used instead. The browser-specified values do not affect the style cascade; the values are instead forced by the browser at paint time.</p> <p>These browser-specified values are selected from the set of system colors &amp;emdash; this ensures a consistent contrast for common UI elements for users that have forced colors enabled.</p> <ul> <li><a href="../color"><code>color</code></a></li> <li><a href="../background-color"><code>background-color</code></a></li> <li><a href="../text-decoration-color"><code>text-decoration-color</code></a></li> <li><a href="../text-emphasis-color"><code>text-emphasis-color</code></a></li> <li><a href="../border-color"><code>border-color</code></a></li> <li><a href="../outline-color"><code>outline-color</code></a></li> <li><a href="../column-rule-color"><code>column-rule-color</code></a></li> <li><a href="../-webkit-tap-highlight-color"><code>-webkit-tap-highlight-color</code></a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/fill">SVG fill attribute</a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke">SVG stroke attribute</a></li> </ul> <p>Additionally the following properties have special behavior in forced colors mode:</p> <ul> <li>
<a href="../box-shadow"><code>box-shadow</code></a> is forced to 'none'</li> <li>
<a href="../text-shadow"><code>text-shadow</code></a> is forced to 'none'</li> <li>
<a href="../background-image"><code>background-image</code></a> is forced to 'none' for values that are not url-based</li> <li>
<a href="../color-scheme"><code>color-scheme</code></a> is forced to 'light dark'</li> <li>
<a href="../scrollbar-color"><code>scrollbar-color</code></a> is forced to 'auto'</li> </ul> <p>The system colors that are forced for the above properties depend on the context of the element. For example the <a href="../color"><code>color</code></a> property on button element will be forced to <code>ButtonText</code>. On normal text it will be forced to <code>CanvasText</code>. See the <a href="../color_value#system_colors">list of system colors</a> for additional details of when each might be appropriate in various UI contexts.</p> <p><strong>Note:</strong> user agents choose system colors based on native element semantics, <em>not</em> on added ARIA roles. As an example, adding <code>role="button"</code> to a div will <strong>not</strong> cause an element's color to be forced to <code>ButtonText</code></p> <p>In addition to these adjustments, browsers will help ensure text legibility by drawing “backplates” behind text. This is particularly important for preserving contrast when text is placed on top of images. </p> <p>There are two cases where the user agent does not force the values for the above properties &amp;emdash; when a <a href="../forced-color-adjust"><code>forced-color-adjust</code></a> value of <code>none</code> is applied to an element, or when a system color is specified by the author.</p> <p>When forced-color-adjust is set to <code>none</code> on an element, none of the forced color values will apply, and author styles will be applied as normal. Additionally, the backplate for text will be disabled.</p> <p>When a system color is specified, it will be used instead of the value that would otherwise have been forced.</p> <p>You can also use system colors with any property <em>other</em> than those listed above, to ensure that the rest of the page integrates with the restricted color palette available in forced colors mode.</p>
<h3 id="accessibility_concerns">Accessibility concerns</h3>
<p>In general, web authors should <strong>not</strong> be using the <code>forced-colors</code> media feature to create a separate design for users with this feature enabled. Instead, its intended usage is to make small tweaks to improve usability or legibility when the default application of forced colors does not work well for a given portion of a page.</p> <p>The high contrast provided by forced colors mode's reduced palette and text backplates is often essential for some users to be able to read or use a given website, so adjustments that affect content should be chosen carefully and targeted to content that is otherwise not legible.</p>
<h3 id="user_preferences">User preferences</h3>
<p>This media feature is active only if the user has enabled color scheme preferences in their operating system. One example of such a feature is High Contrast mode on Windows.</p>
<h2 id="examples">Examples</h2>
<div class="notecard note"> <p><strong>Note:</strong> The below example will only work when using a browser that supports this media feature, and with a preference such as High Contrast mode enabled in your OS.</p> </div> <p>This example is a button that normally gets its contrast via <a href="../box-shadow"><code>box-shadow</code></a>. Under forced colors mode, box-shadow is forced to none, so the example uses the forced-colors media feature to ensure there is a border of the appropriate color (ButtonText in this case)</p>
<h3 id="html">HTML</h3>
<pre data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Press me!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</pre>
<h3 id="css">CSS</h3>
<pre data-language="css"><span class="token selector">.button</span> <span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token property">box-shadow</span><span class="token punctuation">:</span> -2px -2px 5px gray<span class="token punctuation">,</span> 2px 2px 5px gray<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">forced-colors</span><span class="token punctuation">:</span> active<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">.button</span> <span class="token punctuation">{</span>
    <span class="token comment">/* Use a border instead, since box-shadow is forced to 'none' in forced-colors mode */</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 2px ButtonText solid<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre>
<h3 id="result">Result</h3>
<p><iframe class="sample-code-frame" id="frame_Examples" src="https://yari-demos.prod.mdn.mozit.cloud/en-US/docs/Web/CSS/@media/forced-colors/_samples_/Examples" loading="lazy"></iframe></p>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table"> <thead> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> </thead> <tbody> <tr> <td><a href="https://drafts.csswg.org/mediaqueries-5/#forced-colors" hreflang="en" rel=" noopener">Media Queries Level 5<br><small>The definition of 'forced-colors' in that specification.</small></a></td> <td><span class="spec-ed">Editor's Draft</span></td> <td>Initial definition.</td> </tr> </tbody> </table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>forced-colors</code></th>
<td class="bc-supports-yes">
<div>89</div>
<div>79</div>
<div>See <a href="https://crbug.com/970285">bug 970285</a>.</div>
</td>
<td class="bc-supports-yes"><div>79</div></td>
<td class="bc-supports-yes">
<div>89</div>
<div>81</div>
</td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no">
<div>No</div>
<div>See <a href="https://crbug.com/970285">bug 970285</a>.</div>
</td>
<td class="bc-supports-no">
<div>No</div>
<div>See <a href="https://crbug.com/970285">bug 970285</a>.</div>
</td>
<td class="bc-supports-yes"><div>89</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no">
<div>No</div>
<div>See <a href="https://crbug.com/970285">bug 970285</a>.</div>
</td>
</tr></tbody>
</table>


<h2 id="see_also">See also</h2>
<ul> <li><a href="../@media">@media</a></li> <li><a href="https://blogs.windows.com/msedgedev/2020/09/17/styling-for-windows-high-contrast-with-new-standards-for-forced-colors/" rel=" noopener">Styling for Windows high contrast with standards for forced colors.</a></li> <li><a href="../forced-color-adjust"><code>forced-color-adjust</code></a></li> </ul>
    <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@media/forced-colors" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/CSS/@media/forced-colors</a>
  </p>
</div>
