# calc()

The `calc()` [CSS](https://developer.mozilla.org/en-US/docs/Web/CSS) [function](css_functions) lets you perform calculations when specifying CSS property values. It can be used anywhere a [`<length>`](length), [`<frequency>`](frequency), [`<angle>`](angle), [`<time>`](time), [`<percentage>`](percentage), [`<number>`](number), or [`<integer>`](integer) is allowed.

## Syntax

    /* property: calc(expression) */
    width: calc(100% - 80px);

The `calc()` function takes a single expression as its parameter, with the expression's result used as the value. The expression can be any simple expression combining the following operators, using standard [operator precedence rules](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/First_steps/Math#operator_precedence):

`+`  
Addition.

`-`  
Subtraction.

`*`  
Multiplication. At least one of the arguments must be a [`<number>`](number).

`/`  
Division. The right-hand side must be a [`<number>`](number).

The operands in the expression may be any [`<length>`](length) syntax value. You can use different units for each value in your expression, if you wish. You may also use parentheses to establish computation order when needed.

### Notes

- The `+` and `-` operators **must be surrounded by whitespace**. For instance, `calc(50% -8px)` will be parsed as a percentage followed by a negative length — an invalid expression — while `calc(50% - 8px)` is a percentage followed by a subtraction operator and a length. Likewise, `calc(8px + -50%)` is treated as a length followed by an addition operator and a negative percentage.
- The `*` and `/` operators do not require whitespace, but adding it for consistency is both allowed and recommended.
- Division by zero results in an error being generated by the HTML parser.
- Math expressions involving percentages for widths and heights on table columns, table column groups, table rows, table row groups, and table cells in both auto and fixed layout tables _may_ be treated as if `auto` had been specified.
- It is permitted to nest `calc()` functions, in which case the inner ones are treated as simple parentheses.

### Formal syntax

    calc( <calc-sum> )where
    <calc-sum> = <calc-product> [ [ '+' | '-' ] <calc-product> ]*where
    <calc-product> = <calc-value> [ '*' <calc-value> | '/' <number> ]*where
    <calc-value> = <number> | <dimension> | <percentage> | ( <calc-sum> )

## Accessibility concerns

When `calc()` is used for controlling text size, be sure that one of the values includes a [relative length unit](length#relative_length_units), for example:

    h1 {
      font-size: calc(1.5rem + 3vw);
    }

This ensures that text size will scale if the page is zoomed.

- [MDN Understanding WCAG, Guideline 1.4 explanations](https://developer.mozilla.org/en-US/docs/Web/Accessibility/Understanding_WCAG/Perceivable#guideline_1.4_make_it_easier_for_users_to_see_and_hear_content_including_separating_foreground_from_background)
- [Understanding Success Criterion 1.4.4 | W3C Understanding WCAG 2.0](https://www.w3.org/TR/UNDERSTANDING-WCAG20/visual-audio-contrast-scale.html)

## Usage with integers

When `calc()` is used where an [`<integer>`](integer) is expected, the value will be rounded to the nearest integer. For example:

    .modal {
      z-index: calc(3 / 2);
    }

This will give `.modal` a final `z-index` value of 2.

**Note:** The Chrome browser currently won’t accept some values returned by `calc()` when an integer is expected. This includes any division, even if it results in an integer. ie. `z-index: calc(4 / 2);` will not be accepted.

## Examples

### Positioning an object on screen with a margin

`calc()` makes it easy to position an object with a set margin. In this example, the CSS creates a banner that stretches across the window, with a 40-pixel gap between both sides of the banner and the edges of the window:

    .banner {
      position: absolute;
      left: 40px;
      width: calc(100% - 80px);
      border: solid black 1px;
      box-shadow: 1px 2px;
      background-color: yellow;
      padding: 6px;
      text-align: center;
      box-sizing: border-box;
    }

    <div class="banner">This is a banner!</div>

### Automatically sizing form fields to fit their container

Another use case for `calc()` is to help ensure that form fields fit in the available space, without extruding past the edge of their container, while maintaining an appropriate margin.

Let's look at some CSS:

    input {
      padding: 2px;
      display: block;
      width: calc(100% - 1em);
    }

    #formbox {
      width: calc(100% / 6);
      border: 1px solid black;
      padding: 4px;
    }

Here, the form itself is established to use 1/6 of the available window width. Then, to ensure that input fields retain an appropriate size, we use `calc()` again to establish that they should be the width of their container minus 1em. Then, the following HTML makes use of this CSS:

    <form>
      <div id="formbox">
      <label>Type something:</label>
      <input type="text">
      </div>
    </form>

### Nested `calc()` with CSS Variables

You can also use `calc()` with [CSS variables](css_variables). Consider the following code:

    .foo {
      --widthA: 100px;
      --widthB: calc(var(--widthA) / 2);
      --widthC: calc(var(--widthB) / 2);
      width: var(--widthC);
    }

After all variables are expanded, `widthC`'s value will be `calc( calc( 100px / 2) / 2)`, then when it's assigned to `.foo`'s width property, all inner `calc()`s (no matter how deeply nested) will be flattened to just parentheses, so the `width` property's value will be eventually `calc( ( 100px / 2) / 2)`, i.e. `25px`. In short: a `calc()` inside of a `calc()` is identical to just parentheses.

## Specifications

<table><thead><tr class="header"><th>Specification</th><th>Status</th><th>Comment</th></tr></thead><tbody><tr class="odd"><td><a href="https://drafts.csswg.org/css-values-3/#calc-notation">CSS Values and Units Module Level 3<br />
<span class="small">The definition of 'calc()' in that specification.</span></a></td><td><span class="spec-cr">Candidate Recommendation</span></td><td>Initial definition</td></tr></tbody></table>

## Browser compatibility

Desktop

Mobile

Chrome

Edge

Firefox

Internet Explorer

Opera

Safari

WebView Android

Chrome Android

Firefox for Android

Opera Android

Safari on IOS

Samsung Internet

`calc()`

26

19

12

16

\["Before Firefox 57 `calc(1*2*3)` is not parsed successfully.", "Firefox 57 increased the number of places `calc()` could substitute another value. See [bug 1350857](https://bugzil.la/1350857)."\]

4-53

9

15

7

6

≤37

≤37

28

16

\["Before Firefox 57 `calc(1*2*3)` is not parsed successfully.", "Firefox 57 increased the number of places `calc()` could substitute another value. See [bug 1350857](https://bugzil.la/1350857)."\]

4-53

14

7

6

1.5

`color_values`

No

No

59

No

No

6

No

No

59

No

6

No

`gradient_color_stops`

19

12

19

9

15

6

37

28

19

15

6

1.5

`nested`

51

16

48

No

38

11

51

51

48

41

11

5.0

`number_values`

31

12

48

9

18

6

4.4.3

31

48

18

6

2.0

## See also

- [Firefox 4: CSS3 calc() ✩ Mozilla Hacks – the Web developer blog](https://hacks.mozilla.org/2010/06/css3-calc/)

<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/calc()" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/CSS/calc()</a>
