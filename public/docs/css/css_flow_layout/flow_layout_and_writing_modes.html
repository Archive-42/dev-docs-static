<h1>Flow Layout and Writing Modes</h1>
<p class="summary">The CSS 2.1 specification, which details how normal flow behaves, assumes a horizontal writing mode. <a href="block_and_inline_layout_in_normal_flow">Layout</a> properties should work in the same way in vertical writing modes. In this guide, we look at how flow layout behaves when used with different document writing modes.</p> <p>This is not a comprehensive guide to the use of writing modes in CSS, the aim here is to document the areas where flow layout interacts with writing modes in possibly unanticipated ways. The <a href="#external_resources">external resources</a> and <a href="#see_also">see also</a> sections of this document link to more writing modes resources.</p>
<h2 id="the_writing_modes_specification">The Writing Modes Specification</h2>
<p>The CSS Writing Modes Level 3 Specification defines the impact a change the document writing mode has on flow layout. In the writing modes introduction, <a href="https://drafts.csswg.org/css-writing-modes-3/#text-flow" rel=" noopener">the specification says</a>,</p> <blockquote> <p>“A writing mode in CSS is determined by the <a href="../writing-mode"><code>writing-mode</code></a>, <a href="../direction"><code>direction</code></a>, and <a href="../text-orientation"><code>text-orientation</code></a> properties. It is defined primarily in terms of its inline base direction and block flow direction.”</p> </blockquote> <p>The specification defines the <em>inline base direction</em> as the direction in which content is ordered on a line. This defines the start and end of the inline direction. The start is where sentences start and the end is where a line of text ends before it would begin to wrap onto a new line.</p> <p>The <em>block flow direction</em> is the direction in which boxes, for example paragraphs, stack in that writing mode. The CSS writing-mode property controls the block flow direction. If you want to change your page, or part of your page, to <code>vertical-lr</code> then you can set <code>writing-mode: vertical-lr</code> on the element and this will change the direction of the blocks and therefore the inline direction as well.</p> <p>While certain languages will use a particular writing mode or text direction, we can also use these properties for creative effect, such as running a heading vertically.</p> <p><iframe width="100%" height="720" src="https://mdn.github.io/css-examples/flow/writing-modes/creative-use.html" loading="lazy"></iframe></p>
<h2 id="the_writing-mode_property_and_block_flow">The <code>writing-mode</code> property and block flow</h2>
<p>The <a href="../writing-mode"><code>writing-mode</code></a> property accepts the values <code>horizontal-tb</code>, <code>vertical-rl</code> and <code>vertical-lr</code>. These values control the direction that blocks flow on the page. The initial value is <code>horizontal-tb,</code> which is a top to bottom block flow direction with a horizontal inline direction. Left to right languages, such as English, and Right to left languages. such as Arabic, are all <code>horizontal-tb</code>.</p> <p>The following example shows blocks using <code>horizontal-tb</code>.</p> <p><iframe width="100%" height="720" src="https://mdn.github.io/css-examples/flow/writing-modes/horizontal-tb.html" loading="lazy"></iframe></p> <p>The value <code>vertical-rl</code> gives you a right-to-left block flow direction with a vertical inline direction, as shown in the next example.</p> <p><iframe width="100%" height="720" src="https://mdn.github.io/css-examples/flow/writing-modes/vertical-rl.html" loading="lazy"></iframe></p> <p>The final example demonstrates the third possible value for <code>writing-mode</code> — <code>vertical-lr</code>. This gives you a left-to-right block flow direction and a vertical inline direction.</p> <p><iframe width="100%" height="720" src="https://mdn.github.io/css-examples/flow/writing-modes/vertical-lr.html" loading="lazy"></iframe></p>
<h2 id="boxes_with_a_different_writing_mode_to_their_parent">Boxes with a different writing mode to their parent</h2>
<p>When a nested box is assigned a different writing mode to its parent, then an inline level box will display as if it has <code>display: inline-block</code>.</p> <p><iframe width="100%" height="720" src="https://mdn.github.io/css-examples/flow/writing-modes/inline-change-mode.html" loading="lazy"></iframe></p> <p>A block-level box will establish a new block formatting context, meaning that if its inner display type would be <code>flow</code>, it will get a computed display type of <code>flow-root</code>. This is shown in the next example where the box which displays as <code>horizontal-tb</code> contains a float which is contained due to its parent establishing a new BFC.</p> <p><iframe width="100%" height="720" src="https://mdn.github.io/css-examples/flow/writing-modes/block-change-mode.html" loading="lazy"></iframe></p>
<h2 id="replaced_elements">Replaced elements</h2>
<p>Replaced elements such as images will not change their orientation based on the <code>writing-mode</code> property. However, replaced elements such as form controls which include text, should match the writing mode in use.</p> <p><iframe width="100%" height="720" src="https://mdn.github.io/css-examples/flow/writing-modes/replaced.html" loading="lazy"></iframe></p>
<h2 id="logical_properties_and_values">Logical Properties and Values</h2>
<p>Once you are working in writing modes other than <code>horizontal-tb</code> many of the properties and values that are mapped to the physical dimensions of the screen seem strange. For example, if you give a box a width of 100px, in <code>horizontal-tb</code> that would control the size in the inline direction. In <code>vertical-lr</code> it controls the size in the block direction because it does not rotate with the text.</p> <p><iframe width="100%" height="720" src="https://mdn.github.io/css-examples/flow/writing-modes/width.html" loading="lazy"></iframe></p> <p>Therefore, we have new properties of <a href="../block-size"><code>block-size</code></a> and <a href="../inline-size"><code>inline-size</code></a>. If we give our block an <code>inline-size</code> of 100px, it doesn’t matter whether we are in a horizontal or a vertical writing mode, <code>inline-size</code> will always mean the size in the inline direction.</p> <p><iframe width="100%" height="720" src="https://mdn.github.io/css-examples/flow/writing-modes/inline-size.html" loading="lazy"></iframe></p> <p>The <a href="../css_logical_properties">CSS Logical Properties and Values</a> specification includes logical versions of the properties that control margins, padding and borders as well as other mappings for things that we have typically used physical directions to specify.</p>
<h2 id="summary">Summary</h2>
<p>In most cases, flow layout works as you would expect it to when changing the writing mode of the document or parts of the document. This can be used to properly typeset vertical languages or for creative reasons. CSS is making this easier by way of introducing logical properties and values so that when working in a vertical writing mode sizing can be based on element's inline and block size. This will be useful when creating components which can work in different writing-modes.</p>
<h2 id="see_also">See also</h2>
<ul> <li><a href="../css_writing_modes">Writing Modes</a></li> </ul>
<h2 id="external_resources">External Resources</h2>
<ul> <li>
<em><a href="https://24ways.org/2016/css-writing-modes/" rel=" noopener">CSS Writing Modes</a></em>, Jen Simmons on 24 Ways</li> </ul>
    <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flow_Layout/Flow_Layout_and_Writing_Modes" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flow_Layout/Flow_Layout_and_Writing_Modes</a>
  </p>
</div>
